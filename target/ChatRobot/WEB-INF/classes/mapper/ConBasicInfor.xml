<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 设置为IUserDao接口方法提供sql语句配置 -->
<mapper namespace="com.gradu.pro.dao.ConBasicInforDao">

    <resultMap id="conBasicInfor" type="ConBasicInfor" >
        <id column="id" property="id"/>
        <result column="CON_SERIAL_NUM" property="conSerialNum"/>
        <result column="CON_NAME" property="conName"/>
        <result column="CON_TYPE" property="conType"/>
        <result column="CON_DATE" property="conDate"/>
        <result column="PROJECT_LINKMAN" property="projectLinkman"/>
        <result column="REMARK" property="remark"/>
        <result column="CON_BUILD_UNIT" property="conBuildUnit"/>
        <result column="CON_AMOUT" property="conAmout"/>
        <result column="SEL_BUDGET" property="selBudget"/>
        <result column="CON_ACCESS" property="conAccess"/>
        <result column="CREATE_TIME" property="createTime"/>
        <result column="UPDATE_TIME" property="updateTime"/>
    </resultMap>

    <insert id="insert" parameterType="ConBasicInfor">
        insert into CON_BASIC_INFOR(id,CON_SERIAL_NUM,CON_NAME,CON_TYPE,CON_DATE
        ,PROJECT_LINKMAN,REMARK,CON_BUILD_UNIT,CON_AMOUT,SEL_BUDGET,CON_ACCESS,
        CREATE_TIME,UPDATE_TIME,del_sign)
        values (#{id},#{conSerialNum,jdbcType=VARCHAR},#{conName,jdbcType=VARCHAR},#{conType,jdbcType=VARCHAR},#{conDate,jdbcType=VARCHAR},#{projectLinkman,jdbcType=VARCHAR},#{remark,jdbcType=VARCHAR},#{conBuildUnit,jdbcType=VARCHAR},
        #{conAmout,jdbcType=VARCHAR},#{selBudget,jdbcType=VARCHAR},#{conAccess,jdbcType=VARCHAR},#{createTime},#{updateTime},0)
    </insert>
    <select id="query" resultMap="conBasicInfor" parameterType="string">
        select * from CON_BASIC_INFOR where id=#{value} and del_sign=0
    </select>

    <select id="querySearch" >

    </select>

    <select id="queryAll" resultMap="conBasicInfor">
        select * from CON_BASIC_INFOR where del_sign=0;
    </select>

    <update id="update" parameterType="ConBasicInfor">
        update CON_BASIC_INFOR set
        <if test="CON_SERIAL_NUM != null">CON_SERIAL_NUM = #{conSerialNum},</if>
        <if test="CON_NAME != null">CON_NAME = #{conName},</if>
        <if test="CON_TYPE != null">CON_TYPE = #{conType},</if>
        <if test="CON_DATE != 0">CON_DATE = #{conDate},</if>
        <if test="PROJECT_LINKMAN != null">PROJECT_LINKMAN = #{projectLinkman},</if>
        <if test="REMARK != null">REMARK = #{remark},</if>
        <if test="CON_BUILD_UNIT != null">CON_BUILD_UNIT = #{conBuildUnit},</if>
        <if test="CON_AMOUT != null">CON_AMOUT = #{conAmout},</if>
        <if test="SEL_BUDGET != null">SEL_BUDGET = #{selBudget},</if>
        <if test="CON_ACCESS != null">CON_ACCESS = #{conAccess},</if>
        UPDATE_TIME = #{updateTime}
        where id=#{id}
    </update>

    <update id="delUpdate" parameterType="string">
        update CON_BASIC_INFOR set del_sign=1 where id=#{value}
    </update>

</mapper>